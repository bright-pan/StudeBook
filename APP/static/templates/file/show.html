{% extends "main/main.html" %}
{% load staticfiles %}
{% block head %}

<script type="text/javascript" src="{% static 'js/rating.js' %}"></script>
<style>
.starRate {position:relative; margin:0px; overflow:hidden; zoom:1;}
.starRate ul {width:160px; margin:0; padding:0;}
.starRate li {display:inline; list-style:none;}
.starRate a, .starRate b {background:url({% static 'img/star_rate.gif' %}) left top repeat-x;}
.starRate a {float:right; margin:0 80px 0 -144px; width:80px; height:16px; background-position:left 16px; color:#000; text-decoration:none;}
.starRate a:hover {background-position:left -32px;}
.starRate b {position:absolute; z-index:-1; width:80px; height:16px; background-position:left -16px;}
.starRate div b {left:0px; bottom:0px; background-position:left top;}
.starRate a span {position:absolute; left:-300px;}
.starRate a:hover span {left:90px; width:100%;}
.starRating {
	cursor: pointer;
}
</style>
{% endblock %}

{% block content %}
	<input type="hidden" id="fileId" value="{{ file.file_id }}" />
	<h1>{{ file.name }}</h1>

		<table>
			<tr><td style="width: 200px; font-weight: bold;">Uploaded by</td><td>{{ file.user }}</td></tr>
			<tr><td style="font-weight: bold;">Category</td><td>{{ file.file_category }}</td></tr>
			<tr><td style="font-weight: bold;">Description</td><td>{{ file.description }}</td></tr>
			<tr><td style="font-weight: bold;">Date</td><td>{{ file.upload_date }}</td></tr>
			<tr><td style="font-weight: bold;">Filesize</td><td>{{ file.size }} MB</td></tr>
			<tr><td style="font-weight: bold;">Download</td><td><a href="{{ file.path }}" target="_blank">{{ file.path }}</a> (Costs: {{ file.price }})</td></tr>
			<tr><td style="font-weight: bold;">Rating</td><td width="400">
<div class="starRate">
	<div>
		<b></b>
	</div>
	<ul>
	<li><a id="starRating5" class="starRating"><span>Give it 5 stars</span>{% if avgRating = 5 %}<b></b>{% endif %}</a></li>
	<li><a id="starRating4" class="starRating"><span>Give it 4 stars</span>{% if avgRating = 4 %}<b></b>{% endif %}</a></li>
	<li><a id="starRating3" class="starRating"><span>Give it 3 stars</span>{% if avgRating = 3 %}<b></b>{% endif %}</a></li>
	<li><a id="starRating2" class="starRating"><span>Give it 2 stars</span>{% if avgRating = 2 %}<b></b>{% endif %}</a></li>
	<li><a id="starRating1" class="starRating"><span>Give it 1 star</span>{% if avgRating = 1 %}<b></b>{% endif %}</a></li>
	</ul>
</div>

(<span id="numberOfRatings">{{numberOfRatings}}</span> votes, rating: <span id="averageRating">{{ avgRating }}</span>)
</td>
</tr>
</table>

{% endblock %}